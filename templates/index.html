<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Driver Performance Prediction</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #1b1b1b;
            color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }

        h1, h2 {
            text-align: center;
        }

        form {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        select, button {
            padding: 10px;
            margin: 0 10px;
            font-size: 1rem;
        }

        .visualization-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .visualization-container img {
            width: 45%;
        }

        .prediction-result {
            text-align: center;
            margin-top: 20px;
        }

        .loading {
            animation: fadeIn 2s infinite;
        }

        @keyframes fadeIn {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Futuristic Paragraph Styling */
        .explanation {
            background-color: #222;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>F1 Driver Performance Prediction</h1>
    <form method="POST">
        <label for="track">Select Track:</label>
        <select name="track" id="track">
            {% for track in tracks %}
            <option value="{{ track[0] }}" {% if selected_track == track[0] %}selected{% endif %}>{{ track[0] }}</option>
            {% endfor %}
        </select>

        <label for="driver">Select Driver:</label>
        <select name="driver" id="driver">
            {% for driver in drivers %}
            <option value="{{ driver[0] }}" {% if selected_driver == driver[0] %}selected{% endif %}>{{ driver[1] }}</option>
            {% endfor %}
        </select>

        <button type="submit">Predict Performance</button>
    </form>

    {% if prediction_result %}
        <div class="prediction-result">
            <h2>Predicted Performance for 2025</h2>
            <p><strong>Predicted Ranking:</strong> {{ prediction_result.predicted_rank }}</p>
            <p><strong>Predicted Lap Time:</strong> {{ prediction_result.predicted_lap }} seconds</p>
        </div>

        <div class="visualization-container">
            <img src="{{ url_for('static', filename='images/performance_visualization.png') }}" alt="Performance Visualizations">
        </div>

        <div class="explanation">
            <p>These visualizations help us observe how a driver's **ranking** and **lap time** have evolved on a selected track over the years. A steady improvement in lap time often correlates with better rankings, which improves the accuracy of predictions. By observing the trendlines, we can make more reliable predictions about the driver's performance in upcoming races.</p>
        </div>
    {% endif %}
</body>
</html>
